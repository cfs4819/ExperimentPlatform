import numpy as np
import matplotlib.pyplot as plt

# 时间间隔
time_interval = 0.1  # 时间间隔为0.1秒

# 速度数据
speed_data = [9.826451431005083, 10.324768852692428, 10.508371091836604, 10.743528713514582, 9.84101514171063, 11.932065730830454, 11.764568559643855, 11.01827508947881, 11.941491477266696, 11.145609779462738, 11.375474871694124, 11.24754431617061, 13.070182293610538, 12.649650700743237, 13.772076526067245, 12.780170650216283, 12.31301274066343, 14.401200735509315, 13.017270079148652, 12.900485118296913, 13.811320572975603, 14.126340002132178, 13.702198544910841, 15.102907204056413, 14.736418040195781, 16.052701975221083, 15.103741899973949, 15.468196477116642, 14.999534111500454, 16.502719780174587, 16.279853291515728, 16.478136766463187, 17.47989323973743, 16.87920299722751, 17.01508587443285, 17.337559147897473, 17.49943359427615, 17.300557197991367, 17.183284419380044, 17.974958862047146, 18.853550761732023, 18.732814443558947, 19.551088520131405, 18.152853045831943, 18.785594344144464, 19.41824052625945, 19.93116126952683, 20.0124149590112, 20.38671750003207, 19.91384547541066]  # 单位：m/s
# 转角数据
angle_data = [4.75126113861222, 5.306597626192326, 5.109718177040303, 5.580447106446915, 5.9586655200191165, 5.90854808040927, 6.077748651814241, 6.635429871244523, 6.505709437634645, 6.732319731116514, 7.1182282067984985, 6.86323145433651, 7.322833263541918, 7.488596888424991, 8.025049104544458, 7.9351733778729505, 8.422398341351915, 8.421338983851474, 8.652210542651735, 9.330619948724362, 9.291286938528323, 9.162959916155307, 9.480169622303091, 9.673234003328636, 10.152480631788109, 9.764305657134932, 9.911707148683412, 10.705528666420943, 10.554915936850882, 11.014337485523702, 10.86815851930399, 11.390925011177425, 11.698688241607172, 12.010807059263168, 11.491646592592963, 12.598567695756591, 11.915502900874785, 12.59548548320834, 12.6876524136051, 12.504035972051776, 12.969234878930855, 12.941080078030483, 13.841675775084013, 13.958267382180098, 14.23639509356307, 14.06710519035007, 14.80637086435781, 15.018975900899175, 14.596325746162941, 15.370361651202057]  # 单位：度

# 起始位置
start_x = 0
start_y = 0

# 将角度转换为弧度
angle_data_rad = np.radians(angle_data)  # 转换为弧度

# 计算位移（速度 * 时间间隔）
displacement = np.multiply(speed_data, time_interval)

# 考虑转角对位移的影响，修正位移方向
displacement_x = np.multiply(displacement, np.cos(angle_data_rad))
displacement_y = np.multiply(displacement, np.sin(angle_data_rad))

# 计算车辆在每个时间点的累计位移
position_x = np.cumsum(displacement_x)
position_y = np.cumsum(displacement_y)
print(str(position_x))
# 起始位置加到每个时间点的位移上
position_x += start_x
position_y += start_y
print(str(position_x))

# 最终位置是最后一个累计位移点的位置
final_position = (position_x[-1], position_y[-1])
print("车辆最终位置:", final_position)




# 绘制轨迹图
plt.figure(figsize=(8, 6))
plt.plot(position_x, position_y, marker='o', linestyle='-', color='b')
plt.title('车辆轨迹')
plt.xlabel('X 轴位置')
plt.ylabel('Y 轴位置')
plt.grid(True)
plt.show()
